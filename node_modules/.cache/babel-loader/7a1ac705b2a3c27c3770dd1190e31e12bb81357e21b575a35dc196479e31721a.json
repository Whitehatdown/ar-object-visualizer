{"ast":null,"code":"var _jsxFileName = \"C:\\\\MyPC\\\\Projects\\\\Parijat Controlwares\\\\AR Tags'\\\\ar-object-visualizer\\\\src\\\\ARVisualizer.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { sampleObjects } from './sampleData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImprovedARVisualizer = () => {\n  _s();\n  const mountRef = useRef(null);\n  const [objects, setObjects] = useState([]);\n  const [selectedObject, setSelectedObject] = useState(null);\n  const [showDataPanel, setShowDataPanel] = useState(false);\n  const [cameraActive, setCameraActive] = useState(false);\n  const [videoStream, setVideoStream] = useState(null);\n  const videoRef = useRef(null);\n\n  // Request camera access\n  const requestCameraAccess = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: \"environment\"\n        }\n      });\n      setVideoStream(stream);\n      setCameraActive(true);\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n    } catch (error) {\n      console.error(\"Error accessing camera:\", error);\n      alert(\"Could not access the camera. Please check permissions.\");\n    }\n  };\n\n  // Stop camera stream\n  const stopCameraStream = () => {\n    if (videoStream) {\n      videoStream.getTracks().forEach(track => track.stop());\n      setVideoStream(null);\n      setCameraActive(false);\n    }\n  };\n\n  // Toggle camera\n  const toggleCamera = () => {\n    if (cameraActive) {\n      stopCameraStream();\n    } else {\n      requestCameraAccess();\n    }\n  };\n\n  // Scene setup\n  useEffect(() => {\n    // Scene, camera, and renderer\n    const scene = new THREE.Scene();\n    scene.background = new THREE.Color(0x111111);\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n    camera.position.z = 5;\n    const renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      alpha: true // Enable transparency for AR effect\n    });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setClearColor(0x000000, 0); // Transparent background\n    mountRef.current.appendChild(renderer.domElement);\n\n    // Enhanced controls\n    const controls = new OrbitControls(camera, renderer.domElement);\n    controls.enableDamping = true;\n    controls.dampingFactor = 0.25;\n    controls.rotateSpeed = 0.5;\n    controls.zoomSpeed = 1.2;\n    controls.panSpeed = 0.8;\n    controls.minDistance = 2;\n    controls.maxDistance = 20;\n\n    // Lighting\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);\n    scene.add(ambientLight);\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n    directionalLight.position.set(1, 1, 1);\n    scene.add(directionalLight);\n\n    // Grid helper with better visibility\n    const gridHelper = new THREE.GridHelper(20, 20, 0x555555, 0x333333);\n    gridHelper.material.opacity = 0.6;\n    gridHelper.material.transparent = true;\n    scene.add(gridHelper);\n\n    // Create 3D objects\n    const objectsInScene = [];\n    sampleObjects.forEach(objectData => {\n      // Create marker mesh with higher quality\n      const geometry = new THREE.SphereGeometry(0.2, 32, 32);\n      const material = new THREE.MeshStandardMaterial({\n        color: objectData.color,\n        emissive: objectData.color,\n        emissiveIntensity: 0.4,\n        roughness: 0.3,\n        metalness: 0.8\n      });\n      const mesh = new THREE.Mesh(geometry, material);\n\n      // Position based on data\n      mesh.position.set(objectData.position.x, objectData.position.y, objectData.position.z);\n\n      // Add enhanced pulse effect\n      const pulseGeometry = new THREE.SphereGeometry(0.25, 32, 32);\n      const pulseMaterial = new THREE.MeshBasicMaterial({\n        color: objectData.color,\n        transparent: true,\n        opacity: 0.4\n      });\n      const pulse = new THREE.Mesh(pulseGeometry, pulseMaterial);\n      pulse.scale.set(1, 1, 1);\n\n      // Set pulse properties based on status\n      let pulseSpeed = 0.01;\n      let maxScale = 1.5;\n      switch (objectData.status) {\n        case \"Critical\":\n          pulseSpeed = 0.03;\n          maxScale = 2.0;\n          break;\n        case \"Warning\":\n          pulseSpeed = 0.02;\n          maxScale = 1.8;\n          break;\n        case \"Offline\":\n          pulseSpeed = 0.005;\n          maxScale = 1.2;\n          break;\n        default:\n          // Active\n          pulseSpeed = 0.01;\n          maxScale = 1.5;\n      }\n      pulse.userData = {\n        pulseDirection: 1,\n        minScale: 1,\n        maxScale: maxScale,\n        pulseSpeed: pulseSpeed\n      };\n      mesh.add(pulse);\n\n      // Add floating status indicator\n      const statusGeometry = new THREE.BoxGeometry(0.05, 0.05, 0.05);\n      const statusColor = getStatusColor(objectData.status);\n      const statusMaterial = new THREE.MeshBasicMaterial({\n        color: statusColor\n      });\n      const statusIndicator = new THREE.Mesh(statusGeometry, statusMaterial);\n      statusIndicator.position.set(0, 0.3, 0);\n      mesh.add(statusIndicator);\n\n      // Add label\n      const labelDiv = document.createElement('div');\n      labelDiv.className = 'object-label';\n      labelDiv.textContent = objectData.name;\n      labelDiv.style.display = 'none';\n\n      // Store the object with its metadata\n      const objectWithMeta = {\n        mesh,\n        data: objectData,\n        label: labelDiv\n      };\n      scene.add(mesh);\n      objectsInScene.push(objectWithMeta);\n    });\n    setObjects(objectsInScene);\n\n    // Helper function to get status color\n    function getStatusColor(status) {\n      switch (status) {\n        case \"Critical\":\n          return 0xff0000;\n        case \"Warning\":\n          return 0xffcc00;\n        case \"Offline\":\n          return 0x888888;\n        default:\n          return 0x00ff00;\n        // Active\n      }\n    }\n\n    // Raycaster for object selection\n    const raycaster = new THREE.Raycaster();\n    const mouse = new THREE.Vector2();\n\n    // Handle mouse click\n    const handleMouseClick = event => {\n      // Calculate mouse position in normalized device coordinates\n      mouse.x = event.clientX / window.innerWidth * 2 - 1;\n      mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n\n      // Update the raycaster\n      raycaster.setFromCamera(mouse, camera);\n\n      // Find intersections\n      const meshes = objectsInScene.map(obj => obj.mesh);\n      const intersects = raycaster.intersectObjects(meshes, true);\n\n      // If we intersected with something\n      if (intersects.length > 0) {\n        // Get the root parent object (in case we hit a child like pulse)\n        let selectedMesh = intersects[0].object;\n        while (selectedMesh.parent && selectedMesh.parent !== scene) {\n          selectedMesh = selectedMesh.parent;\n        }\n        const selectedObj = objectsInScene.find(obj => obj.mesh === selectedMesh);\n\n        // Set the selected object\n        setSelectedObject(selectedObj);\n        setShowDataPanel(true);\n\n        // Update visuals for the selected object\n        objectsInScene.forEach(obj => {\n          if (obj.mesh === selectedMesh) {\n            // Highlight the selected object\n            obj.mesh.scale.set(1.3, 1.3, 1.3);\n\n            // Make pulse more prominent\n            const pulse = obj.mesh.children[0];\n            pulse.userData.minScale = 1.2;\n            pulse.userData.maxScale = 2.5;\n            pulse.userData.pulseSpeed = 0.02;\n          } else {\n            // Reset others\n            obj.mesh.scale.set(1, 1, 1);\n\n            // Reset pulse\n            const pulse = obj.mesh.children[0];\n            pulse.userData.minScale = 1;\n            pulse.userData.maxScale = 1.5;\n            pulse.userData.pulseSpeed = 0.01;\n          }\n        });\n      } else {\n        // If clicking on empty space, deselect\n        setSelectedObject(null);\n        setShowDataPanel(false);\n\n        // Reset all objects\n        objectsInScene.forEach(obj => {\n          obj.mesh.scale.set(1, 1, 1);\n\n          // Reset pulse\n          const pulse = obj.mesh.children[0];\n          pulse.userData.minScale = 1;\n          pulse.userData.maxScale = 1.5;\n          pulse.userData.pulseSpeed = 0.01;\n        });\n      }\n    };\n\n    // Handle mouse move for hover effects\n    const handleMouseMove = event => {\n      mouse.x = event.clientX / window.innerWidth * 2 - 1;\n      mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n      raycaster.setFromCamera(mouse, camera);\n      const meshes = objectsInScene.map(obj => obj.mesh);\n      const intersects = raycaster.intersectObjects(meshes, true);\n\n      // Show/hide labels based on hover\n      objectsInScene.forEach(obj => {\n        // Hide all labels by default\n        obj.label.style.display = 'none';\n        obj.mesh.material.emissiveIntensity = 0.4;\n      });\n\n      // Show label for hovered object\n      if (intersects.length > 0) {\n        // Get the root parent object (in case we hit a child like pulse)\n        let hoveredMesh = intersects[0].object;\n        while (hoveredMesh.parent && hoveredMesh.parent !== scene) {\n          hoveredMesh = hoveredMesh.parent;\n        }\n        const hoveredObj = objectsInScene.find(obj => obj.mesh === hoveredMesh);\n        if (hoveredObj) {\n          // Position and show the label\n          const vector = new THREE.Vector3();\n          vector.setFromMatrixPosition(hoveredObj.mesh.matrixWorld);\n          vector.project(camera);\n          const x = (vector.x * 0.5 + 0.5) * window.innerWidth;\n          const y = (-(vector.y * 0.5) + 0.5) * window.innerHeight;\n          hoveredObj.label.style.display = 'block';\n          hoveredObj.label.style.left = `${x}px`;\n          hoveredObj.label.style.top = `${y - 30}px`;\n\n          // Enhance glow effect\n          hoveredObj.mesh.material.emissiveIntensity = 0.8;\n          document.body.style.cursor = 'pointer';\n        }\n      } else {\n        document.body.style.cursor = 'default';\n      }\n    };\n    window.addEventListener('click', handleMouseClick);\n    window.addEventListener('mousemove', handleMouseMove);\n\n    // Animation loop\n    const animate = () => {\n      requestAnimationFrame(animate);\n\n      // Update pulse animations\n      objectsInScene.forEach(obj => {\n        const pulse = obj.mesh.children[0];\n\n        // Get pulse speed from userData\n        const pulseSpeed = pulse.userData.pulseSpeed;\n\n        // Update pulse scale\n        if (pulse.userData.pulseDirection === 1) {\n          pulse.scale.x += pulseSpeed;\n          pulse.scale.y += pulseSpeed;\n          pulse.scale.z += pulseSpeed;\n          if (pulse.scale.x >= pulse.userData.maxScale) {\n            pulse.userData.pulseDirection = -1;\n          }\n        } else {\n          pulse.scale.x -= pulseSpeed;\n          pulse.scale.y -= pulseSpeed;\n          pulse.scale.z -= pulseSpeed;\n          if (pulse.scale.x <= pulse.userData.minScale) {\n            pulse.userData.pulseDirection = 1;\n          }\n        }\n\n        // Update opacity based on scale\n        pulse.material.opacity = 0.5 - (pulse.scale.x - pulse.userData.minScale) / (pulse.userData.maxScale - pulse.userData.minScale) * 0.4;\n\n        // Rotate status indicators slightly\n        if (obj.mesh.children.length > 1) {\n          obj.mesh.children[1].rotation.y += 0.01;\n        }\n      });\n      controls.update();\n      renderer.render(scene, camera);\n    };\n    animate();\n\n    // Add HTML overlays to the DOM\n    objectsInScene.forEach(obj => {\n      document.body.appendChild(obj.label);\n    });\n\n    // Handle window resize\n    const handleResize = () => {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n    };\n    window.addEventListener('resize', handleResize);\n\n    // Cleanup function\n    return () => {\n      window.removeEventListener('click', handleMouseClick);\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('resize', handleResize);\n      objectsInScene.forEach(obj => {\n        if (obj.label.parentNode) {\n          obj.label.parentNode.removeChild(obj.label);\n        }\n      });\n      stopCameraStream();\n      if (mountRef.current && mountRef.current.contains(renderer.domElement)) {\n        mountRef.current.removeChild(renderer.domElement);\n      }\n    };\n  }, []);\n\n  // Format date string nicely\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleString();\n  };\n\n  // Get status indicator color\n  const getStatusClass = status => {\n    switch (status) {\n      case \"Critical\":\n        return \"status-critical\";\n      case \"Warning\":\n        return \"status-warning\";\n      case \"Offline\":\n        return \"status-offline\";\n      default:\n        return \"status-active\";\n    }\n  };\n\n  // Render enhanced card-style data panel\n  const renderDataPanel = () => {\n    if (!selectedObject || !showDataPanel) return null;\n    const {\n      data\n    } = selectedObject;\n    const statusClass = getStatusClass(data.status);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-panel card-ui\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-header\",\n        style: {\n          backgroundColor: `#${data.color.toString(16)}`\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `status-indicator ${statusClass}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: data.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-button\",\n          onClick: () => setShowDataPanel(false),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"data-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"data-section location-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"data-grid-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-grid-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"data-label\",\n                  children: \"X:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"data-value\",\n                  children: [data.position.x.toFixed(2), \" m\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-grid-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"data-label\",\n                  children: \"Y:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"data-value\",\n                  children: [data.position.y.toFixed(2), \" m\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-grid-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"data-label\",\n                  children: \"Z:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"data-value\",\n                  children: [data.position.z.toFixed(2), \" m\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"data-section properties-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Properties\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"data-grid-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-grid-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"data-label\",\n                  children: \"Type:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"data-value\",\n                  children: data.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-grid-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"data-label\",\n                  children: \"Status:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `data-value ${statusClass}`,\n                  children: data.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"data-grid-row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-grid-cell full-width\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"data-label\",\n                  children: \"Last Updated:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"data-value\",\n                  children: formatDate(data.lastUpdated)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"data-grid-row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-grid-cell full-width\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"data-label\",\n                  children: \"Description:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"data-value description\",\n                  children: data.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"data-section readings-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Recent Readings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mini-chart\",\n              children: data.readings.map((value, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-bar\",\n                style: {\n                  height: `${value}%`,\n                  backgroundColor: index === data.readings.length - 1 ? `#${data.color.toString(16)}` : '#3498db'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"tooltip\",\n                  children: value\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 21\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-legend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Past\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Present\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"icon-details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"icon-history\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"icon-share\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Share\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render minimap with improved design\n  const renderMinimap = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"minimap card-ui\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"minimap-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Map View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"minimap-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"minimap-button zoom-in\",\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"minimap-button zoom-out\",\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"minimap-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid-lines\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid-line horizontal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid-line horizontal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid-line horizontal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid-line vertical\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid-line vertical\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid-line vertical\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 11\n        }, this), objects.map(obj => {\n          const statusClass = getStatusClass(obj.data.status);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `map-marker ${(selectedObject === null || selectedObject === void 0 ? void 0 : selectedObject.data.id) === obj.data.id ? 'selected' : ''} ${statusClass}`,\n            style: {\n              backgroundColor: `#${obj.data.color.toString(16)}`,\n              left: `${(obj.data.position.x + 10) / 20 * 100}%`,\n              top: `${(obj.data.position.z + 10) / 20 * 100}%`\n            },\n            onClick: () => {\n              setSelectedObject(obj);\n              setShowDataPanel(true);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"marker-tooltip\",\n              children: obj.data.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 17\n            }, this)\n          }, obj.data.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 15\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"compass\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"compass-n\",\n            children: \"N\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"compass-s\",\n            children: \"S\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"compass-e\",\n            children: \"E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"compass-w\",\n            children: \"W\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render filter panel\n  const renderFilterPanel = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-panel card-ui\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-header\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"filter-label\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"filter-option active\",\n              children: \"All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"filter-option status-active\",\n              children: \"Active\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"filter-option status-warning\",\n              children: \"Warning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"filter-option status-critical\",\n              children: \"Critical\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"filter-option status-offline\",\n              children: \"Offline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"filter-label\",\n            children: \"Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"filter-option active\",\n              children: \"All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"filter-option\",\n              children: \"Temperature\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"filter-option\",\n              children: \"Humidity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"filter-option\",\n              children: \"Pressure\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"filter-option\",\n              children: \"More...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ar-container\",\n    children: [cameraActive && /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      className: \"camera-feed\",\n      autoPlay: true,\n      playsInline: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mountRef,\n      className: \"ar-scene\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ui-layer\",\n      children: [renderDataPanel(), renderMinimap(), renderFilterPanel(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-bar card-ui\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"object-count\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"count-number\",\n              children: objects.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"count-label\",\n              children: \"Objects Detected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"status-indicators\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"status-dot status-active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"status-dot status-warning\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Warning\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"status-dot status-critical\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Critical\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-menu card-ui\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `menu-button camera-button ${cameraActive ? 'active' : ''}`,\n          onClick: toggleCamera,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icon-camera\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"menu-button add-button\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icon-add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"menu-button search-button\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icon-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"menu-button voice-button\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icon-voice\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"menu-button settings-button\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icon-settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"instructions card-ui\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Click on objects to view details. Drag to rotate camera. Double-click to zoom.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dismiss-button\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 673,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 606,\n    columnNumber: 5\n  }, this);\n};\n_s(ImprovedARVisualizer, \"tvLqP1wNHfZ8kM2AijX6aY8xb7I=\");\n_c = ImprovedARVisualizer;\nexport default ImprovedARVisualizer;\nvar _c;\n$RefreshReg$(_c, \"ImprovedARVisualizer\");","map":{"version":3,"names":["React","useEffect","useRef","useState","THREE","OrbitControls","sampleObjects","jsxDEV","_jsxDEV","ImprovedARVisualizer","_s","mountRef","objects","setObjects","selectedObject","setSelectedObject","showDataPanel","setShowDataPanel","cameraActive","setCameraActive","videoStream","setVideoStream","videoRef","requestCameraAccess","stream","navigator","mediaDevices","getUserMedia","video","facingMode","current","srcObject","error","console","alert","stopCameraStream","getTracks","forEach","track","stop","toggleCamera","scene","Scene","background","Color","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","z","renderer","WebGLRenderer","antialias","alpha","setSize","setPixelRatio","devicePixelRatio","setClearColor","appendChild","domElement","controls","enableDamping","dampingFactor","rotateSpeed","zoomSpeed","panSpeed","minDistance","maxDistance","ambientLight","AmbientLight","add","directionalLight","DirectionalLight","set","gridHelper","GridHelper","material","opacity","transparent","objectsInScene","objectData","geometry","SphereGeometry","MeshStandardMaterial","color","emissive","emissiveIntensity","roughness","metalness","mesh","Mesh","x","y","pulseGeometry","pulseMaterial","MeshBasicMaterial","pulse","scale","pulseSpeed","maxScale","status","userData","pulseDirection","minScale","statusGeometry","BoxGeometry","statusColor","getStatusColor","statusMaterial","statusIndicator","labelDiv","document","createElement","className","textContent","name","style","display","objectWithMeta","data","label","push","raycaster","Raycaster","mouse","Vector2","handleMouseClick","event","clientX","clientY","setFromCamera","meshes","map","obj","intersects","intersectObjects","length","selectedMesh","object","parent","selectedObj","find","children","handleMouseMove","hoveredMesh","hoveredObj","vector","Vector3","setFromMatrixPosition","matrixWorld","project","left","top","body","cursor","addEventListener","animate","requestAnimationFrame","rotation","update","render","handleResize","aspect","updateProjectionMatrix","removeEventListener","parentNode","removeChild","contains","formatDate","dateString","date","Date","toLocaleString","getStatusClass","renderDataPanel","statusClass","backgroundColor","toString","fileName","_jsxFileName","lineNumber","columnNumber","onClick","toFixed","type","lastUpdated","description","readings","value","index","height","renderMinimap","id","renderFilterPanel","ref","autoPlay","playsInline","_c","$RefreshReg$"],"sources":["C:/MyPC/Projects/Parijat Controlwares/AR Tags'/ar-object-visualizer/src/ARVisualizer.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport { sampleObjects } from './sampleData';\r\n\r\nconst ImprovedARVisualizer = () => {\r\n  const mountRef = useRef(null);\r\n  const [objects, setObjects] = useState([]);\r\n  const [selectedObject, setSelectedObject] = useState(null);\r\n  const [showDataPanel, setShowDataPanel] = useState(false);\r\n  const [cameraActive, setCameraActive] = useState(false);\r\n  const [videoStream, setVideoStream] = useState(null);\r\n  const videoRef = useRef(null);\r\n  \r\n  // Request camera access\r\n  const requestCameraAccess = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ \r\n        video: { facingMode: \"environment\" } \r\n      });\r\n      setVideoStream(stream);\r\n      setCameraActive(true);\r\n      \r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream;\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error accessing camera:\", error);\r\n      alert(\"Could not access the camera. Please check permissions.\");\r\n    }\r\n  };\r\n  \r\n  // Stop camera stream\r\n  const stopCameraStream = () => {\r\n    if (videoStream) {\r\n      videoStream.getTracks().forEach(track => track.stop());\r\n      setVideoStream(null);\r\n      setCameraActive(false);\r\n    }\r\n  };\r\n  \r\n  // Toggle camera\r\n  const toggleCamera = () => {\r\n    if (cameraActive) {\r\n      stopCameraStream();\r\n    } else {\r\n      requestCameraAccess();\r\n    }\r\n  };\r\n  \r\n  // Scene setup\r\n  useEffect(() => {\r\n    // Scene, camera, and renderer\r\n    const scene = new THREE.Scene();\r\n    scene.background = new THREE.Color(0x111111);\r\n    \r\n    const camera = new THREE.PerspectiveCamera(\r\n      75, \r\n      window.innerWidth / window.innerHeight, \r\n      0.1, \r\n      1000\r\n    );\r\n    camera.position.z = 5;\r\n    \r\n    const renderer = new THREE.WebGLRenderer({ \r\n      antialias: true,\r\n      alpha: true // Enable transparency for AR effect\r\n    });\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    renderer.setClearColor(0x000000, 0); // Transparent background\r\n    mountRef.current.appendChild(renderer.domElement);\r\n    \r\n    // Enhanced controls\r\n    const controls = new OrbitControls(camera, renderer.domElement);\r\n    controls.enableDamping = true;\r\n    controls.dampingFactor = 0.25;\r\n    controls.rotateSpeed = 0.5;\r\n    controls.zoomSpeed = 1.2;\r\n    controls.panSpeed = 0.8;\r\n    controls.minDistance = 2;\r\n    controls.maxDistance = 20;\r\n    \r\n    // Lighting\r\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);\r\n    scene.add(ambientLight);\r\n    \r\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\r\n    directionalLight.position.set(1, 1, 1);\r\n    scene.add(directionalLight);\r\n    \r\n    // Grid helper with better visibility\r\n    const gridHelper = new THREE.GridHelper(20, 20, 0x555555, 0x333333);\r\n    gridHelper.material.opacity = 0.6;\r\n    gridHelper.material.transparent = true;\r\n    scene.add(gridHelper);\r\n    \r\n    // Create 3D objects\r\n    const objectsInScene = [];\r\n    \r\n    sampleObjects.forEach(objectData => {\r\n      // Create marker mesh with higher quality\r\n      const geometry = new THREE.SphereGeometry(0.2, 32, 32);\r\n      const material = new THREE.MeshStandardMaterial({ \r\n        color: objectData.color,\r\n        emissive: objectData.color,\r\n        emissiveIntensity: 0.4,\r\n        roughness: 0.3,\r\n        metalness: 0.8\r\n      });\r\n      const mesh = new THREE.Mesh(geometry, material);\r\n      \r\n      // Position based on data\r\n      mesh.position.set(\r\n        objectData.position.x,\r\n        objectData.position.y,\r\n        objectData.position.z\r\n      );\r\n      \r\n      // Add enhanced pulse effect\r\n      const pulseGeometry = new THREE.SphereGeometry(0.25, 32, 32);\r\n      const pulseMaterial = new THREE.MeshBasicMaterial({\r\n        color: objectData.color,\r\n        transparent: true,\r\n        opacity: 0.4\r\n      });\r\n      const pulse = new THREE.Mesh(pulseGeometry, pulseMaterial);\r\n      pulse.scale.set(1, 1, 1);\r\n      \r\n      // Set pulse properties based on status\r\n      let pulseSpeed = 0.01;\r\n      let maxScale = 1.5;\r\n      \r\n      switch(objectData.status) {\r\n        case \"Critical\":\r\n          pulseSpeed = 0.03;\r\n          maxScale = 2.0;\r\n          break;\r\n        case \"Warning\":\r\n          pulseSpeed = 0.02;\r\n          maxScale = 1.8;\r\n          break;\r\n        case \"Offline\":\r\n          pulseSpeed = 0.005;\r\n          maxScale = 1.2;\r\n          break;\r\n        default: // Active\r\n          pulseSpeed = 0.01;\r\n          maxScale = 1.5;\r\n      }\r\n      \r\n      pulse.userData = { \r\n        pulseDirection: 1, \r\n        minScale: 1, \r\n        maxScale: maxScale,\r\n        pulseSpeed: pulseSpeed\r\n      };\r\n      mesh.add(pulse);\r\n      \r\n      // Add floating status indicator\r\n      const statusGeometry = new THREE.BoxGeometry(0.05, 0.05, 0.05);\r\n      const statusColor = getStatusColor(objectData.status);\r\n      const statusMaterial = new THREE.MeshBasicMaterial({ color: statusColor });\r\n      const statusIndicator = new THREE.Mesh(statusGeometry, statusMaterial);\r\n      statusIndicator.position.set(0, 0.3, 0);\r\n      mesh.add(statusIndicator);\r\n      \r\n      // Add label\r\n      const labelDiv = document.createElement('div');\r\n      labelDiv.className = 'object-label';\r\n      labelDiv.textContent = objectData.name;\r\n      labelDiv.style.display = 'none';\r\n      \r\n      // Store the object with its metadata\r\n      const objectWithMeta = {\r\n        mesh,\r\n        data: objectData,\r\n        label: labelDiv\r\n      };\r\n      \r\n      scene.add(mesh);\r\n      objectsInScene.push(objectWithMeta);\r\n    });\r\n    \r\n    setObjects(objectsInScene);\r\n    \r\n    // Helper function to get status color\r\n    function getStatusColor(status) {\r\n      switch(status) {\r\n        case \"Critical\": return 0xff0000;\r\n        case \"Warning\": return 0xffcc00;\r\n        case \"Offline\": return 0x888888;\r\n        default: return 0x00ff00; // Active\r\n      }\r\n    }\r\n    \r\n    // Raycaster for object selection\r\n    const raycaster = new THREE.Raycaster();\r\n    const mouse = new THREE.Vector2();\r\n    \r\n    // Handle mouse click\r\n    const handleMouseClick = (event) => {\r\n      // Calculate mouse position in normalized device coordinates\r\n      mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n      mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n      \r\n      // Update the raycaster\r\n      raycaster.setFromCamera(mouse, camera);\r\n      \r\n      // Find intersections\r\n      const meshes = objectsInScene.map(obj => obj.mesh);\r\n      const intersects = raycaster.intersectObjects(meshes, true);\r\n      \r\n      // If we intersected with something\r\n      if (intersects.length > 0) {\r\n        // Get the root parent object (in case we hit a child like pulse)\r\n        let selectedMesh = intersects[0].object;\r\n        while (selectedMesh.parent && selectedMesh.parent !== scene) {\r\n          selectedMesh = selectedMesh.parent;\r\n        }\r\n        \r\n        const selectedObj = objectsInScene.find(obj => obj.mesh === selectedMesh);\r\n        \r\n        // Set the selected object\r\n        setSelectedObject(selectedObj);\r\n        setShowDataPanel(true);\r\n        \r\n        // Update visuals for the selected object\r\n        objectsInScene.forEach(obj => {\r\n          if (obj.mesh === selectedMesh) {\r\n            // Highlight the selected object\r\n            obj.mesh.scale.set(1.3, 1.3, 1.3);\r\n            \r\n            // Make pulse more prominent\r\n            const pulse = obj.mesh.children[0];\r\n            pulse.userData.minScale = 1.2;\r\n            pulse.userData.maxScale = 2.5;\r\n            pulse.userData.pulseSpeed = 0.02;\r\n          } else {\r\n            // Reset others\r\n            obj.mesh.scale.set(1, 1, 1);\r\n            \r\n            // Reset pulse\r\n            const pulse = obj.mesh.children[0];\r\n            pulse.userData.minScale = 1;\r\n            pulse.userData.maxScale = 1.5;\r\n            pulse.userData.pulseSpeed = 0.01;\r\n          }\r\n        });\r\n      } else {\r\n        // If clicking on empty space, deselect\r\n        setSelectedObject(null);\r\n        setShowDataPanel(false);\r\n        \r\n        // Reset all objects\r\n        objectsInScene.forEach(obj => {\r\n          obj.mesh.scale.set(1, 1, 1);\r\n          \r\n          // Reset pulse\r\n          const pulse = obj.mesh.children[0];\r\n          pulse.userData.minScale = 1;\r\n          pulse.userData.maxScale = 1.5;\r\n          pulse.userData.pulseSpeed = 0.01;\r\n        });\r\n      }\r\n    };\r\n    \r\n    // Handle mouse move for hover effects\r\n    const handleMouseMove = (event) => {\r\n      mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n      mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n      \r\n      raycaster.setFromCamera(mouse, camera);\r\n      const meshes = objectsInScene.map(obj => obj.mesh);\r\n      const intersects = raycaster.intersectObjects(meshes, true);\r\n      \r\n      // Show/hide labels based on hover\r\n      objectsInScene.forEach(obj => {\r\n        // Hide all labels by default\r\n        obj.label.style.display = 'none';\r\n        obj.mesh.material.emissiveIntensity = 0.4;\r\n      });\r\n      \r\n      // Show label for hovered object\r\n      if (intersects.length > 0) {\r\n        // Get the root parent object (in case we hit a child like pulse)\r\n        let hoveredMesh = intersects[0].object;\r\n        while (hoveredMesh.parent && hoveredMesh.parent !== scene) {\r\n          hoveredMesh = hoveredMesh.parent;\r\n        }\r\n        \r\n        const hoveredObj = objectsInScene.find(obj => obj.mesh === hoveredMesh);\r\n        \r\n        if (hoveredObj) {\r\n          // Position and show the label\r\n          const vector = new THREE.Vector3();\r\n          vector.setFromMatrixPosition(hoveredObj.mesh.matrixWorld);\r\n          vector.project(camera);\r\n          \r\n          const x = (vector.x * 0.5 + 0.5) * window.innerWidth;\r\n          const y = (-(vector.y * 0.5) + 0.5) * window.innerHeight;\r\n          \r\n          hoveredObj.label.style.display = 'block';\r\n          hoveredObj.label.style.left = `${x}px`;\r\n          hoveredObj.label.style.top = `${y - 30}px`;\r\n          \r\n          // Enhance glow effect\r\n          hoveredObj.mesh.material.emissiveIntensity = 0.8;\r\n          document.body.style.cursor = 'pointer';\r\n        }\r\n      } else {\r\n        document.body.style.cursor = 'default';\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('click', handleMouseClick);\r\n    window.addEventListener('mousemove', handleMouseMove);\r\n    \r\n    // Animation loop\r\n    const animate = () => {\r\n      requestAnimationFrame(animate);\r\n      \r\n      // Update pulse animations\r\n      objectsInScene.forEach(obj => {\r\n        const pulse = obj.mesh.children[0];\r\n        \r\n        // Get pulse speed from userData\r\n        const pulseSpeed = pulse.userData.pulseSpeed;\r\n        \r\n        // Update pulse scale\r\n        if (pulse.userData.pulseDirection === 1) {\r\n          pulse.scale.x += pulseSpeed;\r\n          pulse.scale.y += pulseSpeed;\r\n          pulse.scale.z += pulseSpeed;\r\n          \r\n          if (pulse.scale.x >= pulse.userData.maxScale) {\r\n            pulse.userData.pulseDirection = -1;\r\n          }\r\n        } else {\r\n          pulse.scale.x -= pulseSpeed;\r\n          pulse.scale.y -= pulseSpeed;\r\n          pulse.scale.z -= pulseSpeed;\r\n          \r\n          if (pulse.scale.x <= pulse.userData.minScale) {\r\n            pulse.userData.pulseDirection = 1;\r\n          }\r\n        }\r\n        \r\n        // Update opacity based on scale\r\n        pulse.material.opacity = 0.5 - ((pulse.scale.x - pulse.userData.minScale) / \r\n          (pulse.userData.maxScale - pulse.userData.minScale)) * 0.4;\r\n          \r\n        // Rotate status indicators slightly\r\n        if (obj.mesh.children.length > 1) {\r\n          obj.mesh.children[1].rotation.y += 0.01;\r\n        }\r\n      });\r\n      \r\n      controls.update();\r\n      renderer.render(scene, camera);\r\n    };\r\n    \r\n    animate();\r\n    \r\n    // Add HTML overlays to the DOM\r\n    objectsInScene.forEach(obj => {\r\n      document.body.appendChild(obj.label);\r\n    });\r\n    \r\n    // Handle window resize\r\n    const handleResize = () => {\r\n      camera.aspect = window.innerWidth / window.innerHeight;\r\n      camera.updateProjectionMatrix();\r\n      renderer.setSize(window.innerWidth, window.innerHeight);\r\n    };\r\n    \r\n    window.addEventListener('resize', handleResize);\r\n    \r\n    // Cleanup function\r\n    return () => {\r\n      window.removeEventListener('click', handleMouseClick);\r\n      window.removeEventListener('mousemove', handleMouseMove);\r\n      window.removeEventListener('resize', handleResize);\r\n      \r\n      objectsInScene.forEach(obj => {\r\n        if (obj.label.parentNode) {\r\n          obj.label.parentNode.removeChild(obj.label);\r\n        }\r\n      });\r\n      \r\n      stopCameraStream();\r\n      \r\n      if (mountRef.current && mountRef.current.contains(renderer.domElement)) {\r\n        mountRef.current.removeChild(renderer.domElement);\r\n      }\r\n    };\r\n  }, []);\r\n  \r\n  // Format date string nicely\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleString();\r\n  };\r\n  \r\n  // Get status indicator color\r\n  const getStatusClass = (status) => {\r\n    switch(status) {\r\n      case \"Critical\": return \"status-critical\";\r\n      case \"Warning\": return \"status-warning\";\r\n      case \"Offline\": return \"status-offline\";\r\n      default: return \"status-active\";\r\n    }\r\n  };\r\n  \r\n  // Render enhanced card-style data panel\r\n  const renderDataPanel = () => {\r\n    if (!selectedObject || !showDataPanel) return null;\r\n    \r\n    const { data } = selectedObject;\r\n    const statusClass = getStatusClass(data.status);\r\n    \r\n    return (\r\n      <div className=\"data-panel card-ui\">\r\n        <div className=\"panel-header\" style={{ backgroundColor: `#${data.color.toString(16)}` }}>\r\n          <div className=\"header-content\">\r\n            <div className={`status-indicator ${statusClass}`}></div>\r\n            <h3>{data.name}</h3>\r\n          </div>\r\n          <button className=\"close-button\" onClick={() => setShowDataPanel(false)}>×</button>\r\n        </div>\r\n        \r\n        <div className=\"panel-content\">\r\n          <div className=\"data-grid\">\r\n            <div className=\"data-section location-section\">\r\n              <h4>Location</h4>\r\n              <div className=\"data-grid-row\">\r\n                <div className=\"data-grid-cell\">\r\n                  <span className=\"data-label\">X:</span>\r\n                  <span className=\"data-value\">{data.position.x.toFixed(2)} m</span>\r\n                </div>\r\n                <div className=\"data-grid-cell\">\r\n                  <span className=\"data-label\">Y:</span>\r\n                  <span className=\"data-value\">{data.position.y.toFixed(2)} m</span>\r\n                </div>\r\n                <div className=\"data-grid-cell\">\r\n                  <span className=\"data-label\">Z:</span>\r\n                  <span className=\"data-value\">{data.position.z.toFixed(2)} m</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"data-section properties-section\">\r\n              <h4>Properties</h4>\r\n              <div className=\"data-grid-row\">\r\n                <div className=\"data-grid-cell\">\r\n                  <span className=\"data-label\">Type:</span>\r\n                  <span className=\"data-value\">{data.type}</span>\r\n                </div>\r\n                <div className=\"data-grid-cell\">\r\n                  <span className=\"data-label\">Status:</span>\r\n                  <span className={`data-value ${statusClass}`}>{data.status}</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"data-grid-row\">\r\n                <div className=\"data-grid-cell full-width\">\r\n                  <span className=\"data-label\">Last Updated:</span>\r\n                  <span className=\"data-value\">{formatDate(data.lastUpdated)}</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"data-grid-row\">\r\n                <div className=\"data-grid-cell full-width\">\r\n                  <span className=\"data-label\">Description:</span>\r\n                  <span className=\"data-value description\">{data.description}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"data-section readings-section\">\r\n              <h4>Recent Readings</h4>\r\n              <div className=\"mini-chart\">\r\n                {data.readings.map((value, index) => (\r\n                  <div \r\n                    key={index} \r\n                    className=\"chart-bar\"\r\n                    style={{ \r\n                      height: `${value}%`,\r\n                      backgroundColor: index === data.readings.length - 1 ? \r\n                        `#${data.color.toString(16)}` : '#3498db'\r\n                    }}\r\n                  >\r\n                    <span className=\"tooltip\">{value}</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"chart-legend\">\r\n                <span>Past</span>\r\n                <span>Present</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"action-buttons\">\r\n            <button className=\"action-button\">\r\n              <i className=\"icon-details\"></i>\r\n              <span>Details</span>\r\n            </button>\r\n            <button className=\"action-button\">\r\n              <i className=\"icon-history\"></i>\r\n              <span>History</span>\r\n            </button>\r\n            <button className=\"action-button\">\r\n              <i className=\"icon-share\"></i>\r\n              <span>Share</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  // Render minimap with improved design\r\n  const renderMinimap = () => {\r\n    return (\r\n      <div className=\"minimap card-ui\">\r\n        <div className=\"minimap-header\">\r\n          <span>Map View</span>\r\n          <div className=\"minimap-controls\">\r\n            <button className=\"minimap-button zoom-in\">+</button>\r\n            <button className=\"minimap-button zoom-out\">-</button>\r\n          </div>\r\n        </div>\r\n        <div className=\"minimap-content\">\r\n          <div className=\"grid-lines\">\r\n            <div className=\"grid-line horizontal\"></div>\r\n            <div className=\"grid-line horizontal\"></div>\r\n            <div className=\"grid-line horizontal\"></div>\r\n            <div className=\"grid-line vertical\"></div>\r\n            <div className=\"grid-line vertical\"></div>\r\n            <div className=\"grid-line vertical\"></div>\r\n          </div>\r\n          {objects.map(obj => {\r\n            const statusClass = getStatusClass(obj.data.status);\r\n            return (\r\n              <div \r\n                key={obj.data.id}\r\n                className={`map-marker ${selectedObject?.data.id === obj.data.id ? 'selected' : ''} ${statusClass}`}\r\n                style={{\r\n                  backgroundColor: `#${obj.data.color.toString(16)}`,\r\n                  left: `${(obj.data.position.x + 10) / 20 * 100}%`,\r\n                  top: `${(obj.data.position.z + 10) / 20 * 100}%`,\r\n                }}\r\n                onClick={() => {\r\n                  setSelectedObject(obj);\r\n                  setShowDataPanel(true);\r\n                }}\r\n              >\r\n                <span className=\"marker-tooltip\">{obj.data.name}</span>\r\n              </div>\r\n            );\r\n          })}\r\n          <div className=\"compass\">\r\n            <div className=\"compass-n\">N</div>\r\n            <div className=\"compass-s\">S</div>\r\n            <div className=\"compass-e\">E</div>\r\n            <div className=\"compass-w\">W</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  // Render filter panel\r\n  const renderFilterPanel = () => {\r\n    return (\r\n      <div className=\"filter-panel card-ui\">\r\n        <div className=\"filter-header\">\r\n          <span>Filters</span>\r\n        </div>\r\n        <div className=\"filter-content\">\r\n          <div className=\"filter-group\">\r\n            <label className=\"filter-label\">Status</label>\r\n            <div className=\"filter-options\">\r\n              <button className=\"filter-option active\">All</button>\r\n              <button className=\"filter-option status-active\">Active</button>\r\n              <button className=\"filter-option status-warning\">Warning</button>\r\n              <button className=\"filter-option status-critical\">Critical</button>\r\n              <button className=\"filter-option status-offline\">Offline</button>\r\n            </div>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label className=\"filter-label\">Type</label>\r\n            <div className=\"filter-options\">\r\n              <button className=\"filter-option active\">All</button>\r\n              <button className=\"filter-option\">Temperature</button>\r\n              <button className=\"filter-option\">Humidity</button>\r\n              <button className=\"filter-option\">Pressure</button>\r\n              <button className=\"filter-option\">More...</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  return (\r\n    <div className=\"ar-container\">\r\n      {/* Camera video feed for AR */}\r\n      {cameraActive && (\r\n        <video \r\n          ref={videoRef}\r\n          className=\"camera-feed\"\r\n          autoPlay\r\n          playsInline\r\n        />\r\n      )}\r\n      \r\n      {/* Three.js scene */}\r\n      <div ref={mountRef} className=\"ar-scene\"></div>\r\n      \r\n      {/* UI Components */}\r\n      <div className=\"ui-layer\">\r\n        {renderDataPanel()}\r\n        {renderMinimap()}\r\n        {renderFilterPanel()}\r\n        \r\n        {/* Object count and status bar */}\r\n        <div className=\"status-bar card-ui\">\r\n          <div className=\"status-content\">\r\n            <div className=\"object-count\">\r\n              <span className=\"count-number\">{objects.length}</span>\r\n              <span className=\"count-label\">Objects Detected</span>\r\n            </div>\r\n            <div className=\"status-indicators\">\r\n              <div className=\"status-group\">\r\n                <div className=\"status-dot status-active\"></div>\r\n                <span>Active</span>\r\n              </div>\r\n              <div className=\"status-group\">\r\n                <div className=\"status-dot status-warning\"></div>\r\n                <span>Warning</span>\r\n              </div>\r\n              <div className=\"status-group\">\r\n                <div className=\"status-dot status-critical\"></div>\r\n                <span>Critical</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Main controls menu */}\r\n        <div className=\"action-menu card-ui\">\r\n          <button \r\n            className={`menu-button camera-button ${cameraActive ? 'active' : ''}`}\r\n            onClick={toggleCamera}\r\n          >\r\n            <i className=\"icon-camera\"></i>\r\n          </button>\r\n          <button className=\"menu-button add-button\">\r\n            <i className=\"icon-add\"></i>\r\n          </button>\r\n          <button className=\"menu-button search-button\">\r\n            <i className=\"icon-search\"></i>\r\n          </button>\r\n          <button className=\"menu-button voice-button\">\r\n            <i className=\"icon-voice\"></i>\r\n          </button>\r\n          <button className=\"menu-button settings-button\">\r\n            <i className=\"icon-settings\"></i>\r\n          </button>\r\n        </div>\r\n        \r\n        {/* Contextual help */}\r\n        <div className=\"instructions card-ui\">\r\n          <p>Click on objects to view details. Drag to rotate camera. Double-click to zoom.</p>\r\n          <button className=\"dismiss-button\">✕</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImprovedARVisualizer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}