{"ast":null,"code":"var _jsxFileName = \"C:\\\\MyPC\\\\Projects\\\\Parijat Controlwares\\\\AR Tags'\\\\ar-object-visualizer\\\\src\\\\ARVisualizer.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { sampleObjects } from './sampleData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ARVisualizer = () => {\n  _s();\n  const mountRef = useRef(null);\n  const [objects, setObjects] = useState([]);\n  const [selectedObject, setSelectedObject] = useState(null);\n  const [showDataPanel, setShowDataPanel] = useState(false);\n\n  // Scene setup\n  useEffect(() => {\n    // Scene, camera, and renderer\n    const scene = new THREE.Scene();\n    scene.background = new THREE.Color(0x111111);\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n    camera.position.z = 5;\n    const renderer = new THREE.WebGLRenderer({\n      antialias: true\n    });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    mountRef.current.appendChild(renderer.domElement);\n\n    // Controls\n    const controls = new OrbitControls(camera, renderer.domElement);\n    controls.enableDamping = true;\n    controls.dampingFactor = 0.25;\n\n    // Lighting\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\n    scene.add(ambientLight);\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n    directionalLight.position.set(1, 1, 1);\n    scene.add(directionalLight);\n\n    // Grid helper for spatial reference\n    const gridHelper = new THREE.GridHelper(20, 20, 0x444444, 0x222222);\n    scene.add(gridHelper);\n\n    // Create 3D objects\n    const objectsInScene = [];\n    sampleObjects.forEach(objectData => {\n      // Create marker mesh\n      const geometry = new THREE.SphereGeometry(0.2, 16, 16);\n      const material = new THREE.MeshStandardMaterial({\n        color: objectData.color,\n        emissive: objectData.color,\n        emissiveIntensity: 0.3\n      });\n      const mesh = new THREE.Mesh(geometry, material);\n\n      // Position based on data\n      mesh.position.set(objectData.position.x, objectData.position.y, objectData.position.z);\n\n      // Add pulse effect\n      const pulseGeometry = new THREE.SphereGeometry(0.25, 16, 16);\n      const pulseMaterial = new THREE.MeshBasicMaterial({\n        color: objectData.color,\n        transparent: true,\n        opacity: 0.3\n      });\n      const pulse = new THREE.Mesh(pulseGeometry, pulseMaterial);\n      pulse.scale.set(1, 1, 1);\n      pulse.userData = {\n        pulseDirection: 1,\n        minScale: 1,\n        maxScale: 1.5\n      };\n      mesh.add(pulse);\n\n      // Add label\n      const labelDiv = document.createElement('div');\n      labelDiv.className = 'object-label';\n      labelDiv.textContent = objectData.name;\n      labelDiv.style.display = 'none';\n\n      // Store the object with its metadata\n      const objectWithMeta = {\n        mesh,\n        data: objectData,\n        label: labelDiv\n      };\n      scene.add(mesh);\n      objectsInScene.push(objectWithMeta);\n    });\n    setObjects(objectsInScene);\n\n    // Raycaster for object selection\n    const raycaster = new THREE.Raycaster();\n    const mouse = new THREE.Vector2();\n\n    // Handle mouse click\n    const handleMouseClick = event => {\n      // Calculate mouse position in normalized device coordinates\n      mouse.x = event.clientX / window.innerWidth * 2 - 1;\n      mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n\n      // Update the raycaster\n      raycaster.setFromCamera(mouse, camera);\n\n      // Find intersections\n      const meshes = objectsInScene.map(obj => obj.mesh);\n      const intersects = raycaster.intersectObjects(meshes);\n\n      // If we intersected with something\n      if (intersects.length > 0) {\n        const selectedMesh = intersects[0].object;\n        const selectedObj = objectsInScene.find(obj => obj.mesh === selectedMesh);\n\n        // Set the selected object\n        setSelectedObject(selectedObj);\n        setShowDataPanel(true);\n\n        // Update visuals for the selected object\n        objectsInScene.forEach(obj => {\n          if (obj.mesh === selectedMesh) {\n            // Highlight the selected object\n            obj.mesh.scale.set(1.3, 1.3, 1.3);\n\n            // Make pulse more prominent\n            const pulse = obj.mesh.children[0];\n            pulse.userData.minScale = 1.2;\n            pulse.userData.maxScale = 2.5;\n            pulse.userData.pulseSpeed = 0.02;\n          } else {\n            // Reset others\n            obj.mesh.scale.set(1, 1, 1);\n\n            // Reset pulse\n            const pulse = obj.mesh.children[0];\n            pulse.userData.minScale = 1;\n            pulse.userData.maxScale = 1.5;\n            pulse.userData.pulseSpeed = 0.01;\n          }\n        });\n      } else {\n        // If clicking on empty space, deselect\n        setSelectedObject(null);\n        setShowDataPanel(false);\n\n        // Reset all objects\n        objectsInScene.forEach(obj => {\n          obj.mesh.scale.set(1, 1, 1);\n\n          // Reset pulse\n          const pulse = obj.mesh.children[0];\n          pulse.userData.minScale = 1;\n          pulse.userData.maxScale = 1.5;\n          pulse.userData.pulseSpeed = 0.01;\n        });\n      }\n    };\n\n    // Handle mouse move for hover effects\n    const handleMouseMove = event => {\n      mouse.x = event.clientX / window.innerWidth * 2 - 1;\n      mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n      raycaster.setFromCamera(mouse, camera);\n      const meshes = objectsInScene.map(obj => obj.mesh);\n      const intersects = raycaster.intersectObjects(meshes);\n\n      // Show/hide labels based on hover\n      objectsInScene.forEach(obj => {\n        // Hide all labels by default\n        obj.label.style.display = 'none';\n        obj.mesh.material.emissiveIntensity = 0.3;\n      });\n\n      // Show label for hovered object\n      if (intersects.length > 0) {\n        const hoveredMesh = intersects[0].object;\n        const hoveredObj = objectsInScene.find(obj => obj.mesh === hoveredMesh);\n        if (hoveredObj) {\n          // Position and show the label\n          const vector = new THREE.Vector3();\n          vector.setFromMatrixPosition(hoveredObj.mesh.matrixWorld);\n          vector.project(camera);\n          const x = (vector.x * 0.5 + 0.5) * window.innerWidth;\n          const y = (-(vector.y * 0.5) + 0.5) * window.innerHeight;\n          hoveredObj.label.style.display = 'block';\n          hoveredObj.label.style.left = `${x}px`;\n          hoveredObj.label.style.top = `${y - 30}px`;\n\n          // Enhance glow effect\n          hoveredObj.mesh.material.emissiveIntensity = 0.7;\n        }\n      }\n    };\n    window.addEventListener('click', handleMouseClick);\n    window.addEventListener('mousemove', handleMouseMove);\n\n    // Animation loop\n    const animate = () => {\n      requestAnimationFrame(animate);\n\n      // Update pulse animations\n      objectsInScene.forEach(obj => {\n        const pulse = obj.mesh.children[0];\n\n        // Default pulse speed\n        const pulseSpeed = pulse.userData.pulseSpeed || 0.01;\n\n        // Update pulse scale\n        if (pulse.userData.pulseDirection === 1) {\n          pulse.scale.x += pulseSpeed;\n          pulse.scale.y += pulseSpeed;\n          pulse.scale.z += pulseSpeed;\n          if (pulse.scale.x >= pulse.userData.maxScale) {\n            pulse.userData.pulseDirection = -1;\n          }\n        } else {\n          pulse.scale.x -= pulseSpeed;\n          pulse.scale.y -= pulseSpeed;\n          pulse.scale.z -= pulseSpeed;\n          if (pulse.scale.x <= pulse.userData.minScale) {\n            pulse.userData.pulseDirection = 1;\n          }\n        }\n\n        // Update opacity based on scale\n        pulse.material.opacity = 0.5 - (pulse.scale.x - pulse.userData.minScale) / (pulse.userData.maxScale - pulse.userData.minScale) * 0.4;\n      });\n      controls.update();\n      renderer.render(scene, camera);\n    };\n    animate();\n\n    // Add HTML overlays to the DOM\n    objectsInScene.forEach(obj => {\n      document.body.appendChild(obj.label);\n    });\n\n    // Handle window resize\n    const handleResize = () => {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n    };\n    window.addEventListener('resize', handleResize);\n\n    // Cleanup function\n    return () => {\n      window.removeEventListener('click', handleMouseClick);\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('resize', handleResize);\n      objectsInScene.forEach(obj => {\n        if (obj.label.parentNode) {\n          obj.label.parentNode.removeChild(obj.label);\n        }\n      });\n      if (mountRef.current && mountRef.current.contains(renderer.domElement)) {\n        mountRef.current.removeChild(renderer.domElement);\n      }\n    };\n  }, []);\n\n  // Render data panel\n  const renderDataPanel = () => {\n    if (!selectedObject || !showDataPanel) return null;\n    const {\n      data\n    } = selectedObject;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-header\",\n        style: {\n          backgroundColor: `#${data.color.toString(16)}`\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: data.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-button\",\n          onClick: () => setShowDataPanel(false),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"data-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"X: \", data.position.x.toFixed(2), \" m\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Y: \", data.position.y.toFixed(2), \" m\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Z: \", data.position.z.toFixed(2), \" m\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"data-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Properties\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Type: \", data.type]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Status: \", data.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Last Updated: \", data.lastUpdated]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"data-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Recent Readings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mini-chart\",\n            children: data.readings.map((value, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-bar\",\n              style: {\n                height: `${value}%`,\n                backgroundColor: index === data.readings.length - 1 ? `#${data.color.toString(16)}` : '#3498db'\n              }\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button\",\n            children: \"Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button\",\n            children: \"History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button\",\n            children: \"Share\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render minimap\n  const renderMinimap = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"minimap\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"minimap-header\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Map\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"minimap-content\",\n        children: objects.map(obj => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `map-marker ${(selectedObject === null || selectedObject === void 0 ? void 0 : selectedObject.data.id) === obj.data.id ? 'selected' : ''}`,\n          style: {\n            backgroundColor: `#${obj.data.color.toString(16)}`,\n            left: `${(obj.data.position.x + 10) / 20 * 100}%`,\n            top: `${(obj.data.position.z + 10) / 20 * 100}%`\n          },\n          onClick: () => {\n            setSelectedObject(obj);\n            setShowDataPanel(true);\n          }\n        }, obj.data.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ar-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mountRef,\n      className: \"ar-scene\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), renderDataPanel(), renderMinimap(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"menu-button add-button\",\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"menu-button search-button\",\n        children: \"\\uD83D\\uDD0D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"menu-button voice-button\",\n        children: \"\\uD83C\\uDFA4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [objects.length, \" Objects Detected\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-indicator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"instructions\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Click on objects to view details. Drag to rotate camera.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 5\n  }, this);\n};\n_s(ARVisualizer, \"n0qlZ4JtOTyQ4zObpne4UuJXCrY=\");\n_c = ARVisualizer;\nexport default ARVisualizer;\nvar _c;\n$RefreshReg$(_c, \"ARVisualizer\");","map":{"version":3,"names":["React","useEffect","useRef","useState","THREE","OrbitControls","sampleObjects","jsxDEV","_jsxDEV","ARVisualizer","_s","mountRef","objects","setObjects","selectedObject","setSelectedObject","showDataPanel","setShowDataPanel","scene","Scene","background","Color","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","z","renderer","WebGLRenderer","antialias","setSize","setPixelRatio","devicePixelRatio","current","appendChild","domElement","controls","enableDamping","dampingFactor","ambientLight","AmbientLight","add","directionalLight","DirectionalLight","set","gridHelper","GridHelper","objectsInScene","forEach","objectData","geometry","SphereGeometry","material","MeshStandardMaterial","color","emissive","emissiveIntensity","mesh","Mesh","x","y","pulseGeometry","pulseMaterial","MeshBasicMaterial","transparent","opacity","pulse","scale","userData","pulseDirection","minScale","maxScale","labelDiv","document","createElement","className","textContent","name","style","display","objectWithMeta","data","label","push","raycaster","Raycaster","mouse","Vector2","handleMouseClick","event","clientX","clientY","setFromCamera","meshes","map","obj","intersects","intersectObjects","length","selectedMesh","object","selectedObj","find","children","pulseSpeed","handleMouseMove","hoveredMesh","hoveredObj","vector","Vector3","setFromMatrixPosition","matrixWorld","project","left","top","addEventListener","animate","requestAnimationFrame","update","render","body","handleResize","aspect","updateProjectionMatrix","removeEventListener","parentNode","removeChild","contains","renderDataPanel","backgroundColor","toString","fileName","_jsxFileName","lineNumber","columnNumber","onClick","toFixed","type","status","lastUpdated","readings","value","index","height","renderMinimap","id","ref","_c","$RefreshReg$"],"sources":["C:/MyPC/Projects/Parijat Controlwares/AR Tags'/ar-object-visualizer/src/ARVisualizer.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport { sampleObjects } from './sampleData';\r\n\r\nconst ARVisualizer = () => {\r\n  const mountRef = useRef(null);\r\n  const [objects, setObjects] = useState([]);\r\n  const [selectedObject, setSelectedObject] = useState(null);\r\n  const [showDataPanel, setShowDataPanel] = useState(false);\r\n  \r\n  // Scene setup\r\n  useEffect(() => {\r\n    // Scene, camera, and renderer\r\n    const scene = new THREE.Scene();\r\n    scene.background = new THREE.Color(0x111111);\r\n    \r\n    const camera = new THREE.PerspectiveCamera(\r\n      75, \r\n      window.innerWidth / window.innerHeight, \r\n      0.1, \r\n      1000\r\n    );\r\n    camera.position.z = 5;\r\n    \r\n    const renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    mountRef.current.appendChild(renderer.domElement);\r\n    \r\n    // Controls\r\n    const controls = new OrbitControls(camera, renderer.domElement);\r\n    controls.enableDamping = true;\r\n    controls.dampingFactor = 0.25;\r\n    \r\n    // Lighting\r\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\r\n    scene.add(ambientLight);\r\n    \r\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\r\n    directionalLight.position.set(1, 1, 1);\r\n    scene.add(directionalLight);\r\n    \r\n    // Grid helper for spatial reference\r\n    const gridHelper = new THREE.GridHelper(20, 20, 0x444444, 0x222222);\r\n    scene.add(gridHelper);\r\n    \r\n    // Create 3D objects\r\n    const objectsInScene = [];\r\n    \r\n    sampleObjects.forEach(objectData => {\r\n      // Create marker mesh\r\n      const geometry = new THREE.SphereGeometry(0.2, 16, 16);\r\n      const material = new THREE.MeshStandardMaterial({ \r\n        color: objectData.color,\r\n        emissive: objectData.color,\r\n        emissiveIntensity: 0.3\r\n      });\r\n      const mesh = new THREE.Mesh(geometry, material);\r\n      \r\n      // Position based on data\r\n      mesh.position.set(\r\n        objectData.position.x,\r\n        objectData.position.y,\r\n        objectData.position.z\r\n      );\r\n      \r\n      // Add pulse effect\r\n      const pulseGeometry = new THREE.SphereGeometry(0.25, 16, 16);\r\n      const pulseMaterial = new THREE.MeshBasicMaterial({\r\n        color: objectData.color,\r\n        transparent: true,\r\n        opacity: 0.3\r\n      });\r\n      const pulse = new THREE.Mesh(pulseGeometry, pulseMaterial);\r\n      pulse.scale.set(1, 1, 1);\r\n      pulse.userData = { pulseDirection: 1, minScale: 1, maxScale: 1.5 };\r\n      mesh.add(pulse);\r\n      \r\n      // Add label\r\n      const labelDiv = document.createElement('div');\r\n      labelDiv.className = 'object-label';\r\n      labelDiv.textContent = objectData.name;\r\n      labelDiv.style.display = 'none';\r\n      \r\n      // Store the object with its metadata\r\n      const objectWithMeta = {\r\n        mesh,\r\n        data: objectData,\r\n        label: labelDiv\r\n      };\r\n      \r\n      scene.add(mesh);\r\n      objectsInScene.push(objectWithMeta);\r\n    });\r\n    \r\n    setObjects(objectsInScene);\r\n    \r\n    // Raycaster for object selection\r\n    const raycaster = new THREE.Raycaster();\r\n    const mouse = new THREE.Vector2();\r\n    \r\n    // Handle mouse click\r\n    const handleMouseClick = (event) => {\r\n      // Calculate mouse position in normalized device coordinates\r\n      mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n      mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n      \r\n      // Update the raycaster\r\n      raycaster.setFromCamera(mouse, camera);\r\n      \r\n      // Find intersections\r\n      const meshes = objectsInScene.map(obj => obj.mesh);\r\n      const intersects = raycaster.intersectObjects(meshes);\r\n      \r\n      // If we intersected with something\r\n      if (intersects.length > 0) {\r\n        const selectedMesh = intersects[0].object;\r\n        const selectedObj = objectsInScene.find(obj => obj.mesh === selectedMesh);\r\n        \r\n        // Set the selected object\r\n        setSelectedObject(selectedObj);\r\n        setShowDataPanel(true);\r\n        \r\n        // Update visuals for the selected object\r\n        objectsInScene.forEach(obj => {\r\n          if (obj.mesh === selectedMesh) {\r\n            // Highlight the selected object\r\n            obj.mesh.scale.set(1.3, 1.3, 1.3);\r\n            \r\n            // Make pulse more prominent\r\n            const pulse = obj.mesh.children[0];\r\n            pulse.userData.minScale = 1.2;\r\n            pulse.userData.maxScale = 2.5;\r\n            pulse.userData.pulseSpeed = 0.02;\r\n          } else {\r\n            // Reset others\r\n            obj.mesh.scale.set(1, 1, 1);\r\n            \r\n            // Reset pulse\r\n            const pulse = obj.mesh.children[0];\r\n            pulse.userData.minScale = 1;\r\n            pulse.userData.maxScale = 1.5;\r\n            pulse.userData.pulseSpeed = 0.01;\r\n          }\r\n        });\r\n      } else {\r\n        // If clicking on empty space, deselect\r\n        setSelectedObject(null);\r\n        setShowDataPanel(false);\r\n        \r\n        // Reset all objects\r\n        objectsInScene.forEach(obj => {\r\n          obj.mesh.scale.set(1, 1, 1);\r\n          \r\n          // Reset pulse\r\n          const pulse = obj.mesh.children[0];\r\n          pulse.userData.minScale = 1;\r\n          pulse.userData.maxScale = 1.5;\r\n          pulse.userData.pulseSpeed = 0.01;\r\n        });\r\n      }\r\n    };\r\n    \r\n    // Handle mouse move for hover effects\r\n    const handleMouseMove = (event) => {\r\n      mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n      mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n      \r\n      raycaster.setFromCamera(mouse, camera);\r\n      const meshes = objectsInScene.map(obj => obj.mesh);\r\n      const intersects = raycaster.intersectObjects(meshes);\r\n      \r\n      // Show/hide labels based on hover\r\n      objectsInScene.forEach(obj => {\r\n        // Hide all labels by default\r\n        obj.label.style.display = 'none';\r\n        obj.mesh.material.emissiveIntensity = 0.3;\r\n      });\r\n      \r\n      // Show label for hovered object\r\n      if (intersects.length > 0) {\r\n        const hoveredMesh = intersects[0].object;\r\n        const hoveredObj = objectsInScene.find(obj => obj.mesh === hoveredMesh);\r\n        \r\n        if (hoveredObj) {\r\n          // Position and show the label\r\n          const vector = new THREE.Vector3();\r\n          vector.setFromMatrixPosition(hoveredObj.mesh.matrixWorld);\r\n          vector.project(camera);\r\n          \r\n          const x = (vector.x * 0.5 + 0.5) * window.innerWidth;\r\n          const y = (-(vector.y * 0.5) + 0.5) * window.innerHeight;\r\n          \r\n          hoveredObj.label.style.display = 'block';\r\n          hoveredObj.label.style.left = `${x}px`;\r\n          hoveredObj.label.style.top = `${y - 30}px`;\r\n          \r\n          // Enhance glow effect\r\n          hoveredObj.mesh.material.emissiveIntensity = 0.7;\r\n        }\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('click', handleMouseClick);\r\n    window.addEventListener('mousemove', handleMouseMove);\r\n    \r\n    // Animation loop\r\n    const animate = () => {\r\n      requestAnimationFrame(animate);\r\n      \r\n      // Update pulse animations\r\n      objectsInScene.forEach(obj => {\r\n        const pulse = obj.mesh.children[0];\r\n        \r\n        // Default pulse speed\r\n        const pulseSpeed = pulse.userData.pulseSpeed || 0.01;\r\n        \r\n        // Update pulse scale\r\n        if (pulse.userData.pulseDirection === 1) {\r\n          pulse.scale.x += pulseSpeed;\r\n          pulse.scale.y += pulseSpeed;\r\n          pulse.scale.z += pulseSpeed;\r\n          \r\n          if (pulse.scale.x >= pulse.userData.maxScale) {\r\n            pulse.userData.pulseDirection = -1;\r\n          }\r\n        } else {\r\n          pulse.scale.x -= pulseSpeed;\r\n          pulse.scale.y -= pulseSpeed;\r\n          pulse.scale.z -= pulseSpeed;\r\n          \r\n          if (pulse.scale.x <= pulse.userData.minScale) {\r\n            pulse.userData.pulseDirection = 1;\r\n          }\r\n        }\r\n        \r\n        // Update opacity based on scale\r\n        pulse.material.opacity = 0.5 - ((pulse.scale.x - pulse.userData.minScale) / \r\n          (pulse.userData.maxScale - pulse.userData.minScale)) * 0.4;\r\n      });\r\n      \r\n      controls.update();\r\n      renderer.render(scene, camera);\r\n    };\r\n    \r\n    animate();\r\n    \r\n    // Add HTML overlays to the DOM\r\n    objectsInScene.forEach(obj => {\r\n      document.body.appendChild(obj.label);\r\n    });\r\n    \r\n    // Handle window resize\r\n    const handleResize = () => {\r\n      camera.aspect = window.innerWidth / window.innerHeight;\r\n      camera.updateProjectionMatrix();\r\n      renderer.setSize(window.innerWidth, window.innerHeight);\r\n    };\r\n    \r\n    window.addEventListener('resize', handleResize);\r\n    \r\n    // Cleanup function\r\n    return () => {\r\n      window.removeEventListener('click', handleMouseClick);\r\n      window.removeEventListener('mousemove', handleMouseMove);\r\n      window.removeEventListener('resize', handleResize);\r\n      \r\n      objectsInScene.forEach(obj => {\r\n        if (obj.label.parentNode) {\r\n          obj.label.parentNode.removeChild(obj.label);\r\n        }\r\n      });\r\n      \r\n      if (mountRef.current && mountRef.current.contains(renderer.domElement)) {\r\n        mountRef.current.removeChild(renderer.domElement);\r\n      }\r\n    };\r\n  }, []);\r\n  \r\n  // Render data panel\r\n  const renderDataPanel = () => {\r\n    if (!selectedObject || !showDataPanel) return null;\r\n    \r\n    const { data } = selectedObject;\r\n    \r\n    return (\r\n      <div className=\"data-panel\">\r\n        <div className=\"panel-header\" style={{ backgroundColor: `#${data.color.toString(16)}` }}>\r\n          <h3>{data.name}</h3>\r\n          <button className=\"close-button\" onClick={() => setShowDataPanel(false)}>×</button>\r\n        </div>\r\n        \r\n        <div className=\"panel-content\">\r\n          <div className=\"data-section\">\r\n            <h4>Location</h4>\r\n            <p>X: {data.position.x.toFixed(2)} m</p>\r\n            <p>Y: {data.position.y.toFixed(2)} m</p>\r\n            <p>Z: {data.position.z.toFixed(2)} m</p>\r\n          </div>\r\n          \r\n          <div className=\"data-section\">\r\n            <h4>Properties</h4>\r\n            <p>Type: {data.type}</p>\r\n            <p>Status: {data.status}</p>\r\n            <p>Last Updated: {data.lastUpdated}</p>\r\n          </div>\r\n          \r\n          <div className=\"data-section\">\r\n            <h4>Recent Readings</h4>\r\n            <div className=\"mini-chart\">\r\n              {data.readings.map((value, index) => (\r\n                <div \r\n                  key={index} \r\n                  className=\"chart-bar\"\r\n                  style={{ \r\n                    height: `${value}%`,\r\n                    backgroundColor: index === data.readings.length - 1 ? \r\n                      `#${data.color.toString(16)}` : '#3498db'\r\n                  }}\r\n                ></div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"action-buttons\">\r\n            <button className=\"action-button\">Details</button>\r\n            <button className=\"action-button\">History</button>\r\n            <button className=\"action-button\">Share</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  // Render minimap\r\n  const renderMinimap = () => {\r\n    return (\r\n      <div className=\"minimap\">\r\n        <div className=\"minimap-header\">\r\n          <span>Map</span>\r\n        </div>\r\n        <div className=\"minimap-content\">\r\n          {objects.map(obj => (\r\n            <div \r\n              key={obj.data.id}\r\n              className={`map-marker ${selectedObject?.data.id === obj.data.id ? 'selected' : ''}`}\r\n              style={{\r\n                backgroundColor: `#${obj.data.color.toString(16)}`,\r\n                left: `${(obj.data.position.x + 10) / 20 * 100}%`,\r\n                top: `${(obj.data.position.z + 10) / 20 * 100}%`,\r\n              }}\r\n              onClick={() => {\r\n                setSelectedObject(obj);\r\n                setShowDataPanel(true);\r\n              }}\r\n            ></div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  return (\r\n    <div className=\"ar-container\">\r\n      <div ref={mountRef} className=\"ar-scene\"></div>\r\n      \r\n      {/* Render UI components */}\r\n      {renderDataPanel()}\r\n      {renderMinimap()}\r\n      \r\n      {/* Controls */}\r\n      <div className=\"action-menu\">\r\n        <button className=\"menu-button add-button\">+</button>\r\n        <button className=\"menu-button search-button\">🔍</button>\r\n        <button className=\"menu-button voice-button\">🎤</button>\r\n      </div>\r\n      \r\n      {/* Status bar */}\r\n      <div className=\"status-bar\">\r\n        <span>{objects.length} Objects Detected</span>\r\n        <div className=\"status-indicator\"></div>\r\n      </div>\r\n      \r\n      {/* Instructions */}\r\n      <div className=\"instructions\">\r\n        <p>Click on objects to view details. Drag to rotate camera.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ARVisualizer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}